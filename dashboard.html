<!Doctype HTML>
<html>
<script src="./darkmode.js"></script>
<script src="./cookieScript.js"></script>
<script src="./redirectionScript.js"></script>
<script src="./search.js"></script>
<script src="./dashboard.js"></script>

<head>
  <meta charset="UTF-8">
  <title>Studygroupfinder</title>
  <div class="headerContainer">

    <div class="headerImage" col="1">
      <b onclick="switchToMain()"><img src="Logo/logo.png" alt="Menu" style="padding-top: 5pt;" /></b>
    </div>

    <div class="topnav" col="2">
      <a class="logout" href="./login.html">Abmelden</a>
      <a onclick="switchToSettings()">Einstellungen</a>
      <a onclick="switchToProfile()">Profil</a>
      <a onclick="switchToMessages()">Nachrichten</a>
      <a class="active" onclick="switchToMain()">Startseite</a>
    </div>

  </div>

  <link rel="stylesheet" href="style.css">
</head>

<body onload="initPage();setTheme();">

  <div class="container" id="container">

    <!-- Groups Menu -->
    <div class="left" col="1">


      <!-- Gruppennamen klein halten -->
      <div class="groupelement" id='Analysis A'>

        <div onclick="showDetails('Analysis A', true)" class="elempic">
          <img class="profilepic" src="Logo/groupAna.png" height="110" width="110" />
        </div>
        <div onclick="showDetails('Analysis A', true)" class="elemname">
          <p> Analysis A </p>
        </div>
        <div onclick="removeGroup()" class="elemstatWaiting">
          <img src="Logo/hourglass.png" height="50" width="40" />
        </div>
      </div>
      <div class="groupelement" id="Lina A">
        <div onclick="showDetails('Lina A', true)" class="elempic">
          <img class="profilepic" src="Logo/group1.png" height="110" width="110" />
        </div>
        <div onclick="showDetails('Lina A', true)" class="elemname">
          <p> Lina A </p>
        </div>
        <div class="elemstat">
          <img src="Logo/hourglass.png" height="50" width="40" />
        </div>
      </div>
      <div class="groupelement" id="GDS">
        <div onclick="showDetails('GDS', true)" class="elempic">
          <img class="profilepic" src="Logo/group2.png" height="110" width="110" />
        </div>
        <div onclick="showDetails('GDS', true)" class="elemname">
          <p> GDS </p>
        </div>
        <div class="elemstat">
          <img src="Logo/hourglass.png" height="50" width="40" />

        </div>
      </div>
      <div class="groupelement" id="E-Technik">
        <div onclick="showDetails('E-Technik', true)" class="elempic">
          <img class="profilepic" src="Logo/groupET.png" height="110" width="110" />
        </div>
        <div onclick="showDetails('E-Technik', true)" class="elemname">
          <p> E-Technik </p>
        </div>
        <div class="elemstat">
          <img src="Logo/hourglass.png" height="50" width="40" />
        </div>
      </div>
      <div class="groupelement" id="Prog 1">
        <div onclick="showDetails('Prog 1', true)" class="elempic">
          <img class="profilepic" src="Logo/groupProg.png" height="110" width="110" />
        </div>
        <div onclick="showDetails('Prog 1', true)" class="elemname">
          <p> Prog 1 </p>
        </div>
        <div class="elemstat">
          <img src="Logo/hourglass.png" height="50" width="40" />
        </div>
      </div>

      <div onclick="createGroup()" class="groupelement" style="border-color: green;">
        <div class="elempic">
          <img class="profilepic" src="Logo/newGroup.png" height="110" width="110" />
        </div>
        <div onclick="createGroup()" class="elemname">
          <p> Gruppe erstellen </p>
        </div>
      </div>

    </div>

    <!-- Main-Stuff -->
    <div class="center" col="2">

      <!-- Searchbar -->
      <div class="searchBarContainer">

        <div class="search">

          <input autofocus id="searchTerm" type="text" onkeydown="enterSearch(event)" class="searchTerm"
            placeholder="Suche eine Gruppe">
          <button onclick="showSearch()" type="submit" class="searchButton">
            <img src="Logo/search.png" />
          </button>

        </div>

      </div>

      <!-- Dashboard-Menus-->
      <div class="eventContainer">
        <!-- Nächste Termine-->
        <div class="nextEvent">
          <div class="eventHeader">
            <p>Gruppenvorschläge</p>
          </div>


          <table style="width:100%; border-collapse: collapse;">
            <tr>
              <th>Gruppe:</th>
              <th>Zeit:</th>
              <th>Ort:</th>
              <th></th>
            </tr>
            <tr class="clickable" onclick="showDetails('GDS', false)">
              <td>ModSys</td>
              <td>Heute, 16:00</td>
              <td>Leibniz Uni</td>
            </tr>
            <tr class="clickable" onclick="showDetails('Prog 1 Lerngruppe', false)">
              <td>Prog 1 Lerngruppe</td>
              <td>Morgen, 14:00</td>
              <td>Bei Malte zuhause</td>
            </tr>
            <tr class="clickable" onclick="showDetails('Fußball', false)">
              <td>Fußball</td>
              <td>Samstag, 16:00</td>
              <td>Bei Jonas</td>
            </tr>
            <tr class="clickable" onclick="showDetails('1 nice Programmierer', false)">
              <td>1 nice Programmierer</td>
              <td>Montag, 15:00</td>
              <td>Leibniz Uni</td>
            </tr>
          </table>
        </div>

        <!-- Nächste Termine-->
        <div class="nextEvent">
          <div class="eventHeader">
            <p> Terminkalender </p>
          </div>

          <div class="navigateWeekdays">
            <button class="weekdayButton" onclick="lastDay()"> &larr; </button>
            <p class="weekday" id="weekday"> Wochentag </p>
            <button class="weekdayButton" onclick="nextDay()"> &rarr; </button>
          </div>

          <table style="width:100%; border-collapse: collapse;">
            <tr>
              <td>8:00 - 9:00</td>
              <td class="dayActivity">Vorlesung</td>
            </tr>
            <tr>
              <td>9:00 - 10:00</td>
              <td class="dayActivity">Vorlesung</td>
            </tr>
            <tr>
              <td>10:00 - 11:00</td>
              <td class="dayActivity"></td>
            </tr>
            <tr>
              <td>11:00 - 12:00</td>
              <td class="dayActivity"></td>
            </tr>
            <tr>
              <td>12:00 - 13:00</td>
              <td class="dayActivity"></td>
            </tr>
            <tr>
              <td>13:00 - 14:00</td>
              <td class="dayActivity">Fußball</td>
            </tr>
            <tr>
              <td>14:00 - 15:00</td>
              <td class="dayActivity">Fußball</td>
            </tr>
            <tr>
              <td>15:00 - 16:00</td>
              <td class="dayActivity">Fußball</td>
            </tr>
            <tr>
              <td>17:00 - 18:00</td>
              <td class="dayActivity"></td>
            </tr>
            <tr>
              <td>18:00 - 19:00</td>
              <td class="dayActivity"></td>
            </tr>
            <tr>
              <td>19:00 - 20:00</td>
              <td class="dayActivity"></td>
            </tr>
            <tr>
              <td>20:00 - 21:00</td>
              <td class="dayActivity"></td>
            </tr>
            <tr>
              <td>21:00 - 22:00</td>
              <td class="dayActivity"></td>
            </tr>
          </table>

        </div>


      </div>

    </div>

  </div>
  <div class="footer">
    <a href="https://www.uni-hannover.de/"> Impressum </a>
  </div>


  <div id="waitForAcceptance" class="modal fade" style="display: none;">
    <!-- Modal content -->
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <p>Du hast dich in die Gruppe
        <b id="groupName">Name der Gruppe</b>
        eingetragen. Warte auf Bestätigung des Gruppenadmins.
      </p>
    </div>

  </div>


  <!--  search overlay  -->
  <div id="searchModal" class="modal fade" style="display: none;">
    <div class="modal-content center">
      <span class="close" onclick="closeModal()">&times;</span>

      <!-- Gruppennamen klein halten -->
      <div class="">

        <h2 style="color: gray;"> Suchergebnisse für "Prog 1": </h2>

        <div class="searchResultHeader">

          <div class="searchPic">

          </div>

          <div class="searchName">
            <p> Gruppenname </p>
          </div>

          <div class="searchPlaces">
            <p> Teilnehmerzahl </p>
          </div>

          <div class="searchTime">
            <p> Zeit </p>
          </div>

          <div class="searchJoin">

          </div>

        </div>
        <div id="resultList">
          <div class="searchResult">

            <div class="searchPic">
              <img src="Logo/groupProg.png" height="110" width="110" />
            </div>

            <div class="searchName">
              <p> Programmieren 1 </p>
            </div>

            <div class="searchPlaces">
              <p> 3/4 </p>
            </div>

            <div class="searchTime">
              <p> Montags, 17:00 </p>
            </div>

            <div class="searchJoin">
              <button onclick="beitreten('Programmieren 1')" class="searchJoinButton"> Bewerben </button>
            </div>

          </div>
          <div class="searchResult">

            <div class="searchPic">
              <img src="Logo/groupProg.png" height="110" width="110" />
            </div>

            <div class="searchName">
              <p> Prog 1 Lerngruppe </p>
            </div>

            <div class="searchPlaces">
              <p> 2/5 </p>
            </div>

            <div class="searchTime">
              <p> Samstags, 14:00 </p>
            </div>

            <div class="searchJoin">
              <button onclick="beitreten('Prog 1 Lerngruppe')" class="searchJoinButton"> Bewerben </button>
            </div>

          </div>

          <div class="searchResult">

            <div class="searchPic">
              <img src="Logo/groupProg.png" height="110" width="110" />
            </div>

            <div class="searchName">
              <p> Proggen (Prog 1) </p>
            </div>

            <div class="searchPlaces">
              <p> 1/4 </p>
            </div>

            <div class="searchTime">
              <p> Freitags, 16:00 </p>
            </div>

            <div class="searchJoin">
              <button onclick="beitreten('Proggen (Prog 1)')" class="searchJoinButton"> Bewerben </button>
            </div>

          </div>

          <div class="searchResult">

            <div class="searchPic">
              <img src="Logo/groupProg.png" height="110" width="110" />
            </div>

            <div class="searchName">
              <p> 1 nice Programmierer </p>
            </div>

            <div class="searchPlaces">
              <p> 4/6 </p>
            </div>

            <div class="searchTime">
              <p> Sonntags, 11:00 </p>
            </div>

            <div class="searchJoin">
              <button onclick="beitreten('1 nice Programmierer')" class="searchJoinButton"> Bewerben </button>
            </div>


          </div>

        </div>
      </div>
    </div>
  </div>

  <!--  group details overlay  -->
  <div id="groupdetails" class="modal fade" style="display: none;">

    <!-- Modal content -->
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <div class="flex-container-row">
        <div class="flex-container">
          <div class="flex-container-row col-8">
            <div class="flex-container col-12">
              <img class="profilepic" id="grouppic" src="Logo/groupProg.png" />
              <h3 id="groupTitel">Gruppenname</h3>
            </div>
            <div class="flex-container col-12">
              <p id="groupDescr">
                Hallo wir sind eine Gruppe, die sich für die Vorlesung "Programmieren 1" der LUH zum Lernen treffen
                wollen
              </p>
            </div>
            <div class="flex-container">
              <p>Gruppenadmin: Max</p>
              <img class="profilepic" id="adminPic" src="Logo/Jonas.png" />
            </div>
          </div>
          <div class="flex-container-row col-4">
            <div>
              <h4>Ort: </h4>
              <p>Leibniz Uni Hannover</p>
            </div>
            <div>
              <h4>Zeit: </h4>
              <div class="flex-container-left">
                <div class="col-6">
                  Montags:
                </div>
                <div class="col-6">
                  16:00 - 18:00
                </div>
              </div>
              <div class="flex-container-left">
                <div class="col-6">
                  Dienstags:
                </div>
                <div class="col-6">
                  14:00 - 16:00
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-12 flex-container-right">
          <button id="settings">Einstellungen</button>
          <div class="col-1"></div>
          <button id="groupButton">Beitreten</button>
        </div>
      </div>
    </div>
  </div>

  <!--  group details overlay  -->
  <div id="neuegruppe" class="modal fade" style="display: none;">

    <!-- Modal content -->
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
          <div class="flex-container-row col-8">
            <p>Die Funktion zur Erstellung neuer Gruppen wurde noch nicht implementiert.</p>
          </div>
    </div>
  </div>

</body>

<!-- Navigation via Top Menu -->
<script>

  //var theme = 1;
  var days = ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"];
  var currentDay = 0;


  function initPage() {
    getDay();
    var elements = document.getElementsByClassName("elemstat");
    while (elements.length > 0) {
      elements[0].parentNode.removeChild(elements[0]);
    }
    loadDay(currentDay);
  }

  function getDay() {
    var d = new Date();
    document.getElementById("weekday").innerHTML = days[d.getDay()];
    currentDay = d.getDay();
    loadDay(currentDay);
  }

  function nextDay() {
    currentDay = currentDay + 1;
    if (currentDay > 6) {
      currentDay = currentDay - 7;
    }
    document.getElementById("weekday").innerHTML = days[currentDay];
    loadDay(currentDay);
  }

  function lastDay() {
    currentDay = currentDay - 1;
    if (currentDay < 0) {
      currentDay = currentDay + 7;
    }
    document.getElementById("weekday").innerHTML = days[currentDay];
    loadDay(currentDay);
  }

  function loadDay(day) {
    elements = document.getElementsByClassName("dayActivity");
    var i = 0;
    while (elements.length > i) {
      var timeslot = elements[i].parentNode;
      if (elements[i].innerHTML == "") {
        timeslot.style.backgroundColor = "green";
      } else {
        timeslot.style.backgroundColor = "red";
      }
      i = i + 1;
    }
  }

  function removeGroup() {
    
    if (confirm("Gruppenanfrage zurückziehen")) {
        var b = document.getElementById('Analysis A');
        b.parentNode.removeChild(b);
    }
   
  }
  


</script>

</html>